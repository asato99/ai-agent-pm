# Internal Auditç®¡ç†ç”»é¢

Internal Auditã®ä½œæˆãƒ»ç·¨é›†ãƒ»Audit Ruleè¨­å®šã‚’è¡Œã†ç”»é¢ã€‚
**Internal Auditã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨åŒåˆ—ã®ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«æ¦‚å¿µã€‚è¤‡æ•°ç™»éŒ²å¯èƒ½ã€‚**

å‚ç…§: `docs/requirements/AUDIT.md` - ãƒ‰ãƒ¡ã‚¤ãƒ³ä»•æ§˜

---

## ç”»é¢æ¦‚è¦

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ›¡ï¸ Internal Audits                                 [+ New Audit]    âš™ï¸    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            â”‚                                                                â”‚
â”‚ ğŸ“ Projectsâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚   Project Aâ”‚  â”‚  Internal Auditä¸€è¦§                          ğŸ” æ¤œç´¢... â”‚â”‚
â”‚   Project Bâ”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚            â”‚  â”‚                                                            â”‚â”‚
â”‚ ğŸ‘¥ Agents  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚
â”‚   owner    â”‚  â”‚  â”‚ ğŸŸ¢ QA Audit                                         â”‚ â”‚â”‚
â”‚   frontend â”‚  â”‚  â”‚    å“è³ªç›£æŸ» - 3 Rules                               â”‚ â”‚â”‚
â”‚            â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚
â”‚ ğŸ›¡ï¸ Audits  â”‚  â”‚                                                            â”‚â”‚
â”‚ > QA Audit â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚
â”‚   Security â”‚  â”‚  â”‚ ğŸŸ¡ Security Audit                                   â”‚ â”‚â”‚
â”‚            â”‚  â”‚  â”‚    ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ» - 2 Rules (Suspended)           â”‚ â”‚â”‚
â”‚ ğŸ“œ History â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚
â”‚            â”‚  â”‚                                                            â”‚â”‚
â”‚            â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚
â”‚            â”‚  â”‚  â”‚ âš« Compliance Audit                                  â”‚ â”‚â”‚
â”‚            â”‚  â”‚  â”‚    ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ç›£æŸ» - 5 Rules (Inactive)        â”‚ â”‚â”‚
â”‚            â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚
â”‚            â”‚  â”‚                                                            â”‚â”‚
â”‚            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚            â”‚                                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  3 audits | 1 active | 10 rules total                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Internal Auditã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹

| çŠ¶æ…‹ | ã‚¢ã‚¤ã‚³ãƒ³ | èª¬æ˜ |
|------|---------|------|
| Active | ğŸŸ¢ | ç›£æŸ»æ©Ÿèƒ½ãŒæœ‰åŠ¹ã€‚ãƒˆãƒªã‚¬ãƒ¼ç™ºç«æ™‚ã«ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®Ÿè¡Œ |
| Suspended | ğŸŸ¡ | ä¸€æ™‚åœæ­¢ã€‚æ‰‹å‹•ã§å†é–‹å¯èƒ½ |
| Inactive | âš« | ç›£æŸ»æ©Ÿèƒ½ãŒç„¡åŠ¹ã€‚ãƒˆãƒªã‚¬ãƒ¼ã¯ç„¡è¦–ã•ã‚Œã‚‹ |

---

## ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

### Internal Auditã‚«ãƒ¼ãƒ‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚¢ã‚¤ã‚³ãƒ³] [ç›£æŸ»å]                                   â”‚
â”‚    [èª¬æ˜] - [ãƒ«ãƒ¼ãƒ«æ•°] Rules                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 1. Internal Auditä¸€è¦§ç”»é¢

### è¡¨ç¤ºè¦ç´ 

| è¦ç´  | èª¬æ˜ |
|------|------|
| ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚¢ã‚¤ã‚³ãƒ³ | ğŸŸ¢ Active / ğŸŸ¡ Suspended / âš« Inactive |
| ç›£æŸ»å | Internal Auditå |
| èª¬æ˜ | ç›£æŸ»ã®æ¦‚è¦ |
| ãƒ«ãƒ¼ãƒ«æ•° | ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹Audit Ruleã®æ•° |

### æ“ä½œ

| æ“ä½œ | å‹•ä½œ |
|------|------|
| è¡Œã‚¯ãƒªãƒƒã‚¯ | Internal Auditè©³ç´°ç”»é¢ã¸é·ç§» |
| [+ New Audit] | æ–°è¦Internal Auditä½œæˆã‚·ãƒ¼ãƒˆè¡¨ç¤º |

### ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£è­˜åˆ¥å­

| è¦ç´  | è­˜åˆ¥å­ |
|------|--------|
| ä¸€è¦§ç”»é¢ | `InternalAuditListView` |
| æ–°è¦ä½œæˆãƒœã‚¿ãƒ³ | `NewInternalAuditButton` |
| ç›£æŸ»è¡Œ | `InternalAuditRow_{auditId}` |

---

## 2. æ–°è¦Internal Auditä½œæˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ–°è¦Internal Auditä½œæˆ                                  [Ã—]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  ç›£æŸ»å *                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ QA Audit                                                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                â”‚
â”‚  èª¬æ˜                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ å“è³ªç›£æŸ»ãƒ—ãƒ­ã‚»ã‚¹ã®è‡ªå‹•ç›£è¦–                               â”‚ â”‚
â”‚  â”‚                                                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                â”‚
â”‚  ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Active                                              â–¼    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                â”‚
â”‚                                    [ã‚­ãƒ£ãƒ³ã‚»ãƒ«]  [ä½œæˆ]        â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | å¿…é ˆ | èª¬æ˜ |
|------------|-----|------|------|
| ç›£æŸ»å | TextField | â—‹ | Internal Auditå |
| èª¬æ˜ | TextEditor | - | ç›£æŸ»ã®èª¬æ˜ |
| ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | Picker | â—‹ | active / inactive / suspended |

### ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£è­˜åˆ¥å­

| è¦ç´  | è­˜åˆ¥å­ |
|------|--------|
| ãƒ•ã‚©ãƒ¼ãƒ  | `InternalAuditFormView` |
| åå‰ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | `AuditNameField` |
| èª¬æ˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | `AuditDescriptionField` |
| ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ”ãƒƒã‚«ãƒ¼ | `AuditStatusPicker` |
| ä¿å­˜ãƒœã‚¿ãƒ³ | `SaveAuditButton` |
| ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒœã‚¿ãƒ³ | `CancelAuditButton` |

---

## 3. Internal Auditè©³ç´°ç”»é¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Back    ğŸ›¡ï¸ QA Audit                          [Edit] [...]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  Status: ğŸŸ¢ Active                                             â”‚
â”‚  Description: å“è³ªç›£æŸ»ãƒ—ãƒ­ã‚»ã‚¹ã®è‡ªå‹•ç›£è¦–                       â”‚
â”‚                                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Audit Rules                                   [+ New Rule]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ âœ“ ã‚¿ã‚¹ã‚¯å®Œäº†æ™‚ã®æ‰‹é †ãƒã‚§ãƒƒã‚¯                             â”‚ â”‚
â”‚  â”‚   Trigger: task_completed                                 â”‚ â”‚
â”‚  â”‚   Workflow: æ‰‹é †éµå®ˆãƒã‚§ãƒƒã‚¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ                  â”‚ â”‚
â”‚  â”‚   Agents: qa-auditor â†’ review-bot â†’ owner                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ âœ“ ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´æ™‚ã®æ‰¿èªç¢ºèª                             â”‚ â”‚
â”‚  â”‚   Trigger: status_changed                                 â”‚ â”‚
â”‚  â”‚   Workflow: æ‰¿èªãƒ•ãƒ­ãƒ¼ç¢ºèªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ                    â”‚ â”‚
â”‚  â”‚   Agents: approval-bot â†’ manager                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â—‹ æœŸé™è¶…éæ™‚ã®é…å»¶ç†ç”±è¨˜éŒ²                 (Disabled)    â”‚ â”‚
â”‚  â”‚   Trigger: deadline_exceeded                              â”‚ â”‚
â”‚  â”‚   Workflow: é…å»¶ç†ç”±è¨˜éŒ²ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ                      â”‚ â”‚
â”‚  â”‚   Agents: notification-bot                                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è¡¨ç¤ºè¦ç´ 

#### ãƒ˜ãƒƒãƒ€ãƒ¼éƒ¨

| è¦ç´  | èª¬æ˜ |
|------|------|
| ç›£æŸ»å | Internal Auditå |
| ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | Active / Suspended / Inactive |
| èª¬æ˜ | ç›£æŸ»ã®è©³ç´°èª¬æ˜ |

#### Audit Rulesä¸€è¦§

| è¦ç´  | èª¬æ˜ |
|------|------|
| æœ‰åŠ¹ã‚¢ã‚¤ã‚³ãƒ³ | âœ“ æœ‰åŠ¹ / â—‹ ç„¡åŠ¹ |
| ãƒ«ãƒ¼ãƒ«å | Audit Ruleå |
| ãƒˆãƒªã‚¬ãƒ¼ | ãƒˆãƒªã‚¬ãƒ¼ç¨®åˆ¥ |
| ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ | ä½¿ç”¨ã™ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå |
| ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ | å‰²ã‚Šå½“ã¦æ¸ˆã¿ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆã‚¿ã‚¹ã‚¯é †ã«çŸ¢å°ã§è¡¨ç¤ºï¼‰ |

### æ“ä½œ

| æ“ä½œ | å‹•ä½œ |
|------|------|
| [Edit] | Internal Auditç·¨é›†ã‚·ãƒ¼ãƒˆè¡¨ç¤º |
| [...] | ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆå‰Šé™¤ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´ï¼‰ |
| [+ New Rule] | Audit Ruleç·¨é›†ç”»é¢ã¸é·ç§»ï¼ˆæ–°è¦ä½œæˆãƒ¢ãƒ¼ãƒ‰ï¼‰ |
| Ruleè¡Œã‚¯ãƒªãƒƒã‚¯ | Audit Ruleç·¨é›†ç”»é¢ã¸é·ç§»ï¼ˆç·¨é›†ãƒ¢ãƒ¼ãƒ‰ï¼‰ |

### ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£è­˜åˆ¥å­

| è¦ç´  | è­˜åˆ¥å­ |
|------|--------|
| è©³ç´°ç”»é¢ | `InternalAuditDetailView` |
| ç·¨é›†ãƒœã‚¿ãƒ³ | `EditInternalAuditButton` |
| æ–°è¦ãƒ«ãƒ¼ãƒ«ãƒœã‚¿ãƒ³ | `NewAuditRuleButton` |
| ãƒ«ãƒ¼ãƒ«è¡Œ | `AuditRuleRow_{ruleId}` |
| ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³ | `AuditMenuButton` |

---

## 4. Audit Ruleç·¨é›†ç”»é¢

### ç”»é¢ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Cancel   New Audit Rule                             [Save]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  â”Œâ”€ Basic Information â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  ãƒ«ãƒ¼ãƒ«å *                                               â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚ ã‚¿ã‚¹ã‚¯å®Œäº†æ™‚ã®æ‰‹é †ãƒã‚§ãƒƒã‚¯                        â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  æœ‰åŠ¹: [âœ“]                                                â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€ Trigger â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  ãƒˆãƒªã‚¬ãƒ¼ç¨®åˆ¥ *                                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚ ã‚¿ã‚¹ã‚¯å®Œäº†æ™‚ (task_completed)                 â–¼   â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€ è¿½åŠ è¨­å®š â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚
â”‚  â”‚  â”‚ (ãƒˆãƒªã‚¬ãƒ¼ç¨®åˆ¥ã«å¿œã˜ãŸè¿½åŠ è¨­å®šãŒè¡¨ç¤ºã•ã‚Œã‚‹)          â”‚â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€ Workflow â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ *                               â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚ æ‰‹é †éµå®ˆãƒã‚§ãƒƒã‚¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ                  â–¼   â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€ ã‚¿ã‚¹ã‚¯åˆ¥ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå‰²ã‚Šå½“ã¦ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚
â”‚  â”‚  â”‚                                                      â”‚â”‚ â”‚
â”‚  â”‚  â”‚  Task 1: è¦ä»¶ç¢ºèª                                    â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ qa-auditor                               â–¼   â”‚   â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚â”‚ â”‚
â”‚  â”‚  â”‚                                                      â”‚â”‚ â”‚
â”‚  â”‚  â”‚  Task 2: å®Ÿè£…ãƒ¬ãƒ“ãƒ¥ãƒ¼                                â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ review-bot                               â–¼   â”‚   â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚â”‚ â”‚
â”‚  â”‚  â”‚                                                      â”‚â”‚ â”‚
â”‚  â”‚  â”‚  Task 3: æœ€çµ‚æ‰¿èª                                    â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ owner                                    â–¼   â”‚   â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚â”‚ â”‚
â”‚  â”‚  â”‚                                                      â”‚â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ã‚»ã‚¯ã‚·ãƒ§ãƒ³è©³ç´°

#### Basic Information

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | å¿…é ˆ | èª¬æ˜ |
|------------|-----|------|------|
| ãƒ«ãƒ¼ãƒ«å | TextField | â—‹ | Audit Ruleå |
| æœ‰åŠ¹ | Toggle | â—‹ | ãƒ«ãƒ¼ãƒ«ã®æœ‰åŠ¹/ç„¡åŠ¹ |

#### Trigger

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | å¿…é ˆ | èª¬æ˜ |
|------------|-----|------|------|
| ãƒˆãƒªã‚¬ãƒ¼ç¨®åˆ¥ | Picker | â—‹ | ãƒˆãƒªã‚¬ãƒ¼ç¨®åˆ¥ |
| è¿½åŠ è¨­å®š | Dynamic | - | ãƒˆãƒªã‚¬ãƒ¼ç¨®åˆ¥ã«å¿œã˜ãŸè¿½åŠ è¨­å®š |

##### ãƒˆãƒªã‚¬ãƒ¼ç¨®åˆ¥

| å€¤ | è¡¨ç¤ºå | è¿½åŠ è¨­å®š |
|----|--------|----------|
| `task_completed` | ã‚¿ã‚¹ã‚¯å®Œäº†æ™‚ | ãªã— |
| `status_changed` | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´æ™‚ | å¯¾è±¡ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹é¸æŠ |
| `handoff_completed` | ãƒãƒ³ãƒ‰ã‚ªãƒ•å®Œäº†æ™‚ | ãªã— |
| `deadline_exceeded` | æœŸé™è¶…éæ™‚ | çŒ¶äºˆæ™‚é–“è¨­å®š |

#### Workflow

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | å¿…é ˆ | èª¬æ˜ |
|------------|-----|------|------|
| ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ | Picker | â—‹ | ä½¿ç”¨ã™ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ |

##### ã‚¿ã‚¹ã‚¯åˆ¥ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå‰²ã‚Šå½“ã¦

ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠå¾Œã«å‹•çš„è¡¨ç¤ºã€‚ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å„ã‚¿ã‚¹ã‚¯ã«å¯¾ã—ã¦ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’å‰²ã‚Šå½“ã¦ã€‚

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | å¿…é ˆ | èª¬æ˜ |
|------------|-----|------|------|
| Task {order}: {title} | Label | - | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¿ã‚¹ã‚¯ã®ã‚¿ã‚¤ãƒˆãƒ« |
| Agent | Picker | â—‹ | å‰²ã‚Šå½“ã¦ã‚‹ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ |

### æ“ä½œ

| æ“ä½œ | å‹•ä½œ |
|------|------|
| [Cancel] | å¤‰æ›´ã‚’ç ´æ£„ã—ã¦è©³ç´°ç”»é¢ã«æˆ»ã‚‹ |
| [Save] | å¤‰æ›´ã‚’ä¿å­˜ã—ã¦è©³ç´°ç”»é¢ã«æˆ»ã‚‹ |
| Templateå¤‰æ›´ | ã‚¿ã‚¹ã‚¯åˆ¥ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå‰²ã‚Šå½“ã¦ã‚’å†æç”» |

### ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³

| ãƒ«ãƒ¼ãƒ« | ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ |
|--------|------------------|
| ãƒ«ãƒ¼ãƒ«åå¿…é ˆ | "Rule name is required" |
| ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå¿…é ˆ | "Workflow template is required" |
| å…¨ã‚¿ã‚¹ã‚¯ã«Agentå‰²ã‚Šå½“ã¦å¿…é ˆ | "All tasks must have an agent assigned" |

### ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£è­˜åˆ¥å­

| è¦ç´  | è­˜åˆ¥å­ |
|------|--------|
| ç·¨é›†ç”»é¢ | `AuditRuleEditView` |
| åå‰ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | `AuditRuleNameField` |
| æœ‰åŠ¹ãƒˆã‚°ãƒ« | `AuditRuleEnabledToggle` |
| ãƒˆãƒªã‚¬ãƒ¼ãƒ”ãƒƒã‚«ãƒ¼ | `TriggerTypePicker` |
| ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ”ãƒƒã‚«ãƒ¼ | `WorkflowTemplatePicker` |
| ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ”ãƒƒã‚«ãƒ¼ | `TaskAgentPicker_{taskOrder}` |
| ä¿å­˜ãƒœã‚¿ãƒ³ | `SaveAuditRuleButton` |
| ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒœã‚¿ãƒ³ | `CancelAuditRuleButton` |

---

## 5. ãƒ­ãƒƒã‚¯æ©Ÿèƒ½

Internal Auditã®ç›£æŸ»ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯ã‚¿ã‚¹ã‚¯/ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ãƒ­ãƒƒã‚¯æ¨©é™ã‚’æŒã¤ã€‚

### ãƒ­ãƒƒã‚¯ã‚¿ãƒ–ï¼ˆè©³ç´°ç”»é¢å†…ï¼‰

```
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚  â”‚ Rules   â”‚ Locks   â”‚ History â”‚                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                                                                â”‚
â”‚  â”€â”€â”€ ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ­ãƒƒã‚¯ â”€â”€â”€                                      â”‚
â”‚                                                                â”‚
â”‚  ã‚¿ã‚¹ã‚¯ãƒ­ãƒƒã‚¯                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ”’ APIå®Ÿè£…                                               â”‚ â”‚
â”‚  â”‚    ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ: ECã‚µã‚¤ãƒˆé–‹ç™º                            â”‚ â”‚
â”‚  â”‚    ãƒ­ãƒƒã‚¯è€…: ğŸ¤– security-auditor                         â”‚ â”‚
â”‚  â”‚    ãƒ­ãƒƒã‚¯æ—¥æ™‚: 2024-12-30 14:00                          â”‚ â”‚
â”‚  â”‚    ç†ç”±: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒ“ãƒ¥ãƒ¼å¾…ã¡                        â”‚ â”‚
â”‚  â”‚                                        [ãƒ­ãƒƒã‚¯è§£é™¤]      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                â”‚
â”‚  ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ­ãƒƒã‚¯                                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  (ãªã—)                                                        â”‚
â”‚                                                                â”‚
â”‚  [+ ã‚¿ã‚¹ã‚¯ã‚’ãƒ­ãƒƒã‚¯]  [+ ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ãƒ­ãƒƒã‚¯]                  â”‚
```

### ãƒ­ãƒƒã‚¯ç¨®é¡

| ç¨®é¡ | å¯¾è±¡ | åŠ¹æœ |
|------|------|------|
| ã‚¿ã‚¹ã‚¯ãƒ­ãƒƒã‚¯ | ç‰¹å®šã‚¿ã‚¹ã‚¯ | çŠ¶æ…‹å¤‰æ›´ã‚’ç¦æ­¢ |
| ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ­ãƒƒã‚¯ | ç‰¹å®šã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ | å…¨æ“ä½œã‚’ç¦æ­¢ |

### ãƒ­ãƒƒã‚¯è§£é™¤

- **ç›£æŸ»ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ã¿**ãŒãƒ­ãƒƒã‚¯è§£é™¤å¯èƒ½

---

## 6. ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“‹ è©³ç´°ã‚’é–‹ã           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœï¸ ç·¨é›†                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â¸ï¸ ä¸€æ™‚åœæ­¢ (Suspend)   â”‚
â”‚ ğŸ”´ ç„¡åŠ¹åŒ– (Inactivate)  â”‚
â”‚ ğŸŸ¢ æœ‰åŠ¹åŒ– (Activate)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ—‘ï¸ å‰Šé™¤                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³

### ã‚µã‚¤ãƒ‰ãƒãƒ¼

```swift
NavigationLink(destination: InternalAuditListView()) {
    Label("Internal Audits", systemImage: "checkmark.shield")
}
.accessibilityIdentifier("InternalAuditsNavLink")
```

### ç”»é¢é·ç§»ãƒ•ãƒ­ãƒ¼

```
InternalAuditListView
 â”‚
 â”œâ”€[+ New Audit]â”€â†’ InternalAuditFormView (sheet, create mode)
 â”‚
 â””â”€[Row tap]â”€â†’ InternalAuditDetailView
                â”‚
                â”œâ”€[Edit]â”€â†’ InternalAuditFormView (sheet, edit mode)
                â”‚
                â”œâ”€[+ New Rule]â”€â†’ AuditRuleEditView (navigation, create mode)
                â”‚
                â””â”€[Rule tap]â”€â†’ AuditRuleEditView (navigation, edit mode)
```

---

## 8. çŠ¶æ…‹ç®¡ç†

```swift
struct InternalAuditManagementState {
    var audits: [InternalAudit]
    var selectedAuditId: InternalAuditID?
    var isCreating: Bool
    var newAuditDraft: InternalAuditDraft?
}

struct InternalAudit {
    var id: InternalAuditID
    var name: String
    var description: String
    var status: AuditStatus              // active / inactive / suspended
    var rules: [AuditRule]
    var createdAt: Date
    var updatedAt: Date
}

enum AuditStatus: String {
    case active
    case inactive
    case suspended
}

struct AuditRule {
    var id: AuditRuleID
    var auditId: InternalAuditID
    var name: String
    var triggerType: TriggerType
    var triggerConfig: [String: Any]?    // è¿½åŠ è¨­å®š
    var workflowTemplateId: WorkflowTemplateID
    var taskAssignments: [TaskAssignment]
    var isEnabled: Bool
    var createdAt: Date
    var updatedAt: Date
}

enum TriggerType: String {
    case taskCompleted = "task_completed"
    case statusChanged = "status_changed"
    case handoffCompleted = "handoff_completed"
    case deadlineExceeded = "deadline_exceeded"
}

struct TaskAssignment {
    var templateTaskOrder: Int           // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¿ã‚¹ã‚¯ã®order
    var agentId: AgentID                 // å‰²ã‚Šå½“ã¦ã‚‹ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
}

struct Lock {
    var id: LockID
    var lockType: LockType               // task / agent
    var targetId: String                 // TaskID or AgentID
    var lockedBy: AgentID                // ç›£æŸ»ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆID
    var reason: String
    var lockedAt: Date
}

enum LockType {
    case task                            // ã‚¿ã‚¹ã‚¯ã®çŠ¶æ…‹å¤‰æ›´ã‚’ç¦æ­¢
    case agent                           // ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®å…¨æ“ä½œã‚’ç¦æ­¢
}
```

---

## 9. æ¨©é™

| æ“ä½œ | ç›£æŸ»ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ | é€šå¸¸ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ |
|------|-----------------|-----------------|
| ãƒ­ãƒƒã‚¯ä½œæˆ | âœ… | âŒ |
| ãƒ­ãƒƒã‚¯è§£é™¤ | âœ… | âŒ |
| å…¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé–²è¦§ | âœ… | âŒ |
| ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè¡Œå‹•ãƒ­ã‚°é–²è¦§ | âœ… | âŒ |

---

## 10. ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
Sources/App/Features/InternalAudit/
 â”œâ”€ InternalAuditListView.swift
 â”œâ”€ InternalAuditDetailView.swift
 â”œâ”€ InternalAuditFormView.swift
 â”œâ”€ AuditRuleEditView.swift
 â””â”€ Components/
     â”œâ”€ AuditRuleRowView.swift
     â”œâ”€ TaskAssignmentListView.swift
     â””â”€ LockListView.swift
```

---

## å¤‰æ›´å±¥æ­´

| æ—¥ä»˜ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | å¤‰æ›´å†…å®¹ |
|------|-----------|----------|
| 2025-01-03 | 2.0.0 | å…¨é¢æ”¹è¨‚ - Internal Audit/Audit Rulesæ§‹é€ ã«å¤‰æ›´ |
| 2025-01-01 | 1.0.0 | åˆç‰ˆä½œæˆ - ç›£æŸ»ãƒãƒ¼ãƒ ç®¡ç†ç”»é¢ |
