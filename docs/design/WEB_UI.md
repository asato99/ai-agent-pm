# Web UI è©³ç´°è¨­è¨ˆ

## æ¦‚è¦

AI Agent PM ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†æ©Ÿèƒ½ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰åˆ©ç”¨å¯èƒ½ã«ã™ã‚‹Web UIã€‚
ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¨ã—ã¦ãƒ­ã‚°ã‚¤ãƒ³ã—ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨ã‚¿ã‚¹ã‚¯ã®é–²è¦§ãƒ»ç·¨é›†ã‚’è¡Œã†ã€‚

---

## æ©Ÿèƒ½ã‚¹ã‚³ãƒ¼ãƒ—

| æ©Ÿèƒ½ | å¯¾å¿œ | å‚™è€ƒ |
|------|------|------|
| ãƒ­ã‚°ã‚¤ãƒ³ï¼ˆã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆèªè¨¼ï¼‰ | âœ… | agent_id + passkey |
| ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§è¡¨ç¤º | âœ… | å‚åŠ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã¿ |
| ã‚¿ã‚¹ã‚¯ãƒœãƒ¼ãƒ‰è¡¨ç¤º | âœ… | ã‚«ãƒ³ãƒãƒ³å½¢å¼ |
| ã‚¿ã‚¹ã‚¯æ–°è¦ä½œæˆ | âœ… | |
| ã‚¿ã‚¹ã‚¯ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´ | âœ… | D&Då¯¾å¿œ |
| ã‚¿ã‚¹ã‚¯è©³ç´°ç·¨é›† | âœ… | |
| ã‚¿ã‚¹ã‚¯å‰²ã‚Šå½“ã¦ | âœ… | è‡ªèº« + ä¸‹ä½ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ã¿ |
| ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–° | âœ… | SSE |
| ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ–°è¦ä½œæˆ | âŒ | |
| ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç®¡ç† | âŒ | |
| ç›£æŸ»ãƒãƒ¼ãƒ  | âŒ | |
| å±¥æ­´ | âŒ | |

---

## ç”»é¢ä¸€è¦§

| ãƒ‘ã‚¹ | ç”»é¢å | èª¬æ˜ |
|------|--------|------|
| `/login` | ãƒ­ã‚°ã‚¤ãƒ³ | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆèªè¨¼ |
| `/projects` | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ | å‚åŠ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¡¨ç¤º |
| `/projects/:id` | ã‚¿ã‚¹ã‚¯ãƒœãƒ¼ãƒ‰ | ã‚«ãƒ³ãƒãƒ³å½¢å¼ã§ã‚¿ã‚¹ã‚¯ç®¡ç† |
| `/projects/:id/tasks/new` | ã‚¿ã‚¹ã‚¯ä½œæˆ | ãƒ¢ãƒ¼ãƒ€ãƒ« |
| `/projects/:id/tasks/:taskId` | ã‚¿ã‚¹ã‚¯è©³ç´° | ãƒ¢ãƒ¼ãƒ€ãƒ« / ã‚µã‚¤ãƒ‰ãƒ‘ãƒãƒ« |

---

## èªè¨¼

### èªè¨¼ãƒ•ãƒ­ãƒ¼

```
[ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢]
    â†“ agent_id + passkey å…¥åŠ›
[POST /api/auth/login]
    â†“ æ¤œè¨¼æˆåŠŸ
[session_token ç™ºè¡Œ]
    â†“ Cookie ã¾ãŸã¯ LocalStorage ã«ä¿å­˜
[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé¸æŠç”»é¢ã¸]
```

### API

```
POST /api/auth/login
Request:
{
  "agent_id": "agent-001",
  "passkey": "secret-key"
}

Response:
{
  "session_token": "xxx",
  "agent": {
    "id": "agent-001",
    "name": "Manager A",
    "role": "Backend Manager",
    "hierarchy_type": "manager"
  },
  "expires_at": "2024-01-20T12:00:00Z"
}
```

### ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†

- session_token ã‚’ Cookie (HttpOnly) ã«ä¿å­˜
- æœ‰åŠ¹æœŸé™: 24æ™‚é–“ï¼ˆè¨­å®šå¯èƒ½ï¼‰
- å„ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ `Authorization: Bearer <token>` ãƒ˜ãƒƒãƒ€ãƒ¼é€ä¿¡

---

## ç”»é¢è©³ç´°

### 1. ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ (`/login`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                 â”‚
â”‚              AI Agent PM                        â”‚
â”‚              Web Console                        â”‚
â”‚                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ Agent ID                                â”‚   â”‚
â”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚   â”‚ â”‚                                     â”‚ â”‚   â”‚
â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚   â”‚                                         â”‚   â”‚
â”‚   â”‚ Passkey                                 â”‚   â”‚
â”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚   â”‚ â”‚ â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢                            â”‚ â”‚   â”‚
â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚   â”‚                                         â”‚   â”‚
â”‚   â”‚           [ãƒ­ã‚°ã‚¤ãƒ³]                    â”‚   â”‚
â”‚   â”‚                                         â”‚   â”‚
â”‚   â”‚ âš ï¸ ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºã‚¨ãƒªã‚¢           â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ:**
- `LoginForm`: ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ 
- `ErrorAlert`: ã‚¨ãƒ©ãƒ¼è¡¨ç¤º

**çŠ¶æ…‹:**
```typescript
interface LoginState {
  agentId: string;
  passkey: string;
  isLoading: boolean;
  error: string | null;
}
```

---

### 2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ç”»é¢ (`/projects`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI Agent PM                                                    â”‚
â”‚                                        ğŸ¤– Manager A  [ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   å‚åŠ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ                                              â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ ğŸ“ ECã‚µã‚¤ãƒˆé–‹ç™º                              âš¡ Active   â”‚   â”‚
â”‚   â”‚                                                         â”‚   â”‚
â”‚   â”‚    ã‚¿ã‚¹ã‚¯: 12 | å®Œäº†: 5 | é€²è¡Œä¸­: 3 | ãƒ–ãƒ­ãƒƒã‚¯: 1       â”‚   â”‚
â”‚   â”‚    ã‚ãªãŸã®æ‹…å½“: 3ä»¶                                    â”‚   â”‚
â”‚   â”‚    æ›´æ–°: 5åˆ†å‰                                          â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ ğŸ“ ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒª                            âš¡ Active   â”‚   â”‚
â”‚   â”‚                                                         â”‚   â”‚
â”‚   â”‚    ã‚¿ã‚¹ã‚¯: 8 | å®Œäº†: 7 | é€²è¡Œä¸­: 1 | ãƒ–ãƒ­ãƒƒã‚¯: 0        â”‚   â”‚
â”‚   â”‚    ã‚ãªãŸã®æ‹…å½“: 1ä»¶                                    â”‚   â”‚
â”‚   â”‚    æ›´æ–°: 1æ™‚é–“å‰                                        â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚   â”Œ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”   â”‚
â”‚   â”‚ ğŸ“ ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–æ¸ˆã¿ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ (2ä»¶)           [å±•é–‹ â–¼]  â”‚   â”‚
â”‚   â”” â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”˜   â”‚
â”‚                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ¥ç¶š: ğŸŸ¢ | æœ€çµ‚åŒæœŸ: ãŸã£ãŸä»Š                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ:**
- `Header`: ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã€ãƒ­ã‚°ã‚¢ã‚¦ãƒˆï¼‰
- `ProjectCard`: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚«ãƒ¼ãƒ‰
- `ProjectList`: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§
- `ConnectionStatus`: æ¥ç¶šçŠ¶æ…‹è¡¨ç¤º

**ãƒ‡ãƒ¼ã‚¿å–å¾—:**
```
GET /api/projects
â†’ ãƒ­ã‚°ã‚¤ãƒ³ä¸­ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒå‚åŠ ã—ã¦ã„ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§
```

---

### 3. ã‚¿ã‚¹ã‚¯ãƒœãƒ¼ãƒ‰ç”»é¢ (`/projects/:id`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ ECã‚µã‚¤ãƒˆé–‹ç™º                                                        â”‚
â”‚                              [+ ã‚¿ã‚¹ã‚¯ä½œæˆ]  ğŸ¤– Manager A  [â† ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼: [æ‹…å½“ â–¼] [å„ªå…ˆåº¦ â–¼] [ğŸ” æ¤œç´¢...]                           â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  Backlog  â”‚   Todo    â”‚ Progress  â”‚   Done    â”‚  Blocked  â”‚         â”‚
â”‚  â”‚    (3)    â”‚    (2)    â”‚    (2)    â”‚    (5)    â”‚    (1)    â”‚         â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚
â”‚  â”‚           â”‚           â”‚           â”‚           â”‚           â”‚         â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚         â”‚
â”‚  â”‚ â”‚ğŸ”µ     â”‚ â”‚ â”‚ğŸ”µ     â”‚ â”‚ â”‚ğŸŸ      â”‚ â”‚ â”‚       â”‚ â”‚ â”‚ğŸ”´     â”‚ â”‚         â”‚
â”‚  â”‚ â”‚UIè¨­è¨ˆ â”‚ â”‚ â”‚DBè¨­è¨ˆ â”‚ â”‚ â”‚APIå®Ÿè£…â”‚ â”‚ â”‚è¦ä»¶å®šç¾©â”‚ â”‚ â”‚APIçµ±åˆâ”‚ â”‚         â”‚
â”‚  â”‚ â”‚       â”‚ â”‚ â”‚       â”‚ â”‚ â”‚       â”‚ â”‚ â”‚  âœ…   â”‚ â”‚ â”‚       â”‚ â”‚         â”‚
â”‚  â”‚ â”‚ğŸ‘» æœª  â”‚ â”‚ â”‚ğŸ¤– W1  â”‚ â”‚ â”‚ğŸ¤– W2  â”‚ â”‚ â”‚       â”‚ â”‚ â”‚â³ ä¾å­˜â”‚ â”‚         â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚         â”‚
â”‚  â”‚           â”‚           â”‚           â”‚           â”‚           â”‚         â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚           â”‚         â”‚
â”‚  â”‚ â”‚ğŸ”µ     â”‚ â”‚ â”‚ğŸ”µ     â”‚ â”‚ â”‚ğŸ”µ     â”‚ â”‚ â”‚       â”‚ â”‚           â”‚         â”‚
â”‚  â”‚ â”‚æ±ºæ¸ˆ   â”‚ â”‚ â”‚èªè¨¼   â”‚ â”‚ â”‚ç”»é¢  â”‚ â”‚ â”‚DBè¨­è¨ˆ â”‚ â”‚           â”‚         â”‚
â”‚  â”‚ â”‚       â”‚ â”‚ â”‚       â”‚ â”‚ â”‚      â”‚ â”‚ â”‚  âœ…   â”‚ â”‚           â”‚         â”‚
â”‚  â”‚ â”‚ğŸ‘» æœª  â”‚ â”‚ â”‚ğŸ¤– W1  â”‚ â”‚ â”‚ğŸ¤– W3 â”‚ â”‚ â”‚       â”‚ â”‚           â”‚         â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚           â”‚         â”‚
â”‚  â”‚           â”‚           â”‚           â”‚           â”‚           â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ã‚¿ã‚¹ã‚¯: 13ä»¶ | ğŸŸ¢ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ä¸­ | æœ€çµ‚æ›´æ–°: 3ç§’å‰                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ:**
- `BoardHeader`: ãƒœãƒ¼ãƒ‰ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼‰
- `FilterBar`: ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒãƒ¼
- `KanbanBoard`: ã‚«ãƒ³ãƒãƒ³ãƒœãƒ¼ãƒ‰å…¨ä½“
- `KanbanColumn`: å„ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚«ãƒ©ãƒ 
- `TaskCard`: ã‚¿ã‚¹ã‚¯ã‚«ãƒ¼ãƒ‰ï¼ˆãƒ‰ãƒ©ãƒƒã‚°å¯èƒ½ï¼‰
- `StatusBar`: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼

**ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—:**
- dnd-kit ä½¿ç”¨
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´æ™‚ã« API å‘¼ã³å‡ºã—
- æ¨©é™ãƒã‚§ãƒƒã‚¯ï¼ˆæ‹…å½“ã‚¿ã‚¹ã‚¯ã®ã¿ç§»å‹•å¯èƒ½ãªã©ï¼‰

**ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°:**
- SSE ã§è³¼èª­
- ã‚¿ã‚¹ã‚¯å¤‰æ›´æ™‚ã«è‡ªå‹•åæ˜ 

---

### 4. ã‚¿ã‚¹ã‚¯ä½œæˆãƒ¢ãƒ¼ãƒ€ãƒ« (`/projects/:id/tasks/new`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ã‚¿ã‚¹ã‚¯ä½œæˆ                                          [Ã—]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  ã‚¿ã‚¤ãƒˆãƒ« *                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                            â”‚
â”‚  èª¬æ˜                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                      â”‚ â”‚
â”‚  â”‚                                                      â”‚ â”‚
â”‚  â”‚                                                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                            â”‚
â”‚  ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹              å„ªå…ˆåº¦                            â”‚
â”‚  [Backlog â–¼]            [Medium â–¼]                        â”‚
â”‚                                                            â”‚
â”‚  æ‹…å½“ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ [æœªã‚¢ã‚µã‚¤ãƒ³ â–¼]                                       â”‚ â”‚
â”‚  â”‚                                                      â”‚ â”‚
â”‚  â”‚ é¸æŠå¯èƒ½:                                            â”‚ â”‚
â”‚  â”‚   ğŸ¤– Manager A (è‡ªåˆ†)                                â”‚ â”‚
â”‚  â”‚   ğŸ¤– Worker 1                                        â”‚ â”‚
â”‚  â”‚   ğŸ¤– Worker 2                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                            â”‚
â”‚  ä¾å­˜ã‚¿ã‚¹ã‚¯                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ” ã‚¿ã‚¹ã‚¯ã‚’æ¤œç´¢...                                   â”‚ â”‚
â”‚  â”‚ â˜‘ DBè¨­è¨ˆ                                             â”‚ â”‚
â”‚  â”‚ â˜ APIè¨­è¨ˆ                                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                            â”‚
â”‚                          [ã‚­ãƒ£ãƒ³ã‚»ãƒ«]  [ä½œæˆ]              â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å‰²ã‚Šå½“ã¦å¯èƒ½ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ:**
- è‡ªèº«
- ä¸‹ä½ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆlist_subordinates API ã§å–å¾—ï¼‰

```
GET /api/agents/assignable
â†’ è‡ªèº« + ä¸‹ä½ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ä¸€è¦§
```

---

### 5. ã‚¿ã‚¹ã‚¯è©³ç´°ãƒ‘ãƒãƒ« (`/projects/:id/tasks/:taskId`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  APIå®Ÿè£…                                       [ç·¨é›†] [Ã—]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â—‹ Backlog  â—‹ Todo  â— Progress  â—‹ Done  â—‹ Blocked â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                            â”‚
â”‚  å„ªå…ˆåº¦: ğŸŸ  High                                           â”‚
â”‚  æ‹…å½“:   ğŸ¤– Worker 2                     [å¤‰æ›´]           â”‚
â”‚  ä½œæˆè€…: ğŸ¤– Manager A                                      â”‚
â”‚  ä½œæˆæ—¥: 2024-01-15                                        â”‚
â”‚                                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ èª¬æ˜                                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  REST APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®å®Ÿè£…                              â”‚
â”‚  - ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ API                                        â”‚
â”‚  - å•†å“ CRUD API                                           â”‚
â”‚                                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ”— ä¾å­˜é–¢ä¿‚                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  â† DBè¨­è¨ˆ âœ…                                               â”‚
â”‚  â† èªè¨¼è¨­è¨ˆ âœ…                                             â”‚
â”‚  â†’ APIçµ±åˆãƒ†ã‚¹ãƒˆ (blocked)                                 â”‚
â”‚                                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ’¬ ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ                                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  ğŸ¤– Worker 2 (01/16 10:30)                                â”‚
â”‚  ã€ŒJWTèªè¨¼ã‚’æ¡ç”¨ã€æœ‰åŠ¹æœŸé™1æ™‚é–“ã«è¨­å®šã€                    â”‚
â”‚                                                            â”‚
â”‚  ğŸ¤– Worker 2 (01/16 14:00)                                â”‚
â”‚  ã€ŒRate limit: 100 req/min ã§å®Ÿè£…ã€                       â”‚
â”‚                                                            â”‚
â”‚  [+ ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆè¿½åŠ ]                                      â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç·¨é›†å¯èƒ½é …ç›®:**
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
- å„ªå…ˆåº¦
- æ‹…å½“ï¼ˆè‡ªèº« + ä¸‹ä½ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‹ã‚‰é¸æŠï¼‰
- èª¬æ˜
- ä¾å­˜é–¢ä¿‚
- ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆè¿½åŠ 

---

## REST API è¨­è¨ˆ

### èªè¨¼

| Method | Path | èª¬æ˜ |
|--------|------|------|
| POST | `/api/auth/login` | ãƒ­ã‚°ã‚¤ãƒ³ |
| POST | `/api/auth/logout` | ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ |
| GET | `/api/auth/me` | ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ± |

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

| Method | Path | èª¬æ˜ |
|--------|------|------|
| GET | `/api/projects` | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ |
| GET | `/api/projects/:id` | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè©³ç´° |

### ã‚¿ã‚¹ã‚¯

| Method | Path | èª¬æ˜ |
|--------|------|------|
| GET | `/api/projects/:id/tasks` | ã‚¿ã‚¹ã‚¯ä¸€è¦§ |
| POST | `/api/projects/:id/tasks` | ã‚¿ã‚¹ã‚¯ä½œæˆ |
| GET | `/api/projects/:id/tasks/:taskId` | ã‚¿ã‚¹ã‚¯è©³ç´° |
| PATCH | `/api/projects/:id/tasks/:taskId` | ã‚¿ã‚¹ã‚¯æ›´æ–° |
| DELETE | `/api/projects/:id/tasks/:taskId` | ã‚¿ã‚¹ã‚¯å‰Šé™¤ |

### ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ

| Method | Path | èª¬æ˜ |
|--------|------|------|
| GET | `/api/agents/assignable` | å‰²ã‚Šå½“ã¦å¯èƒ½ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆä¸€è¦§ |

### ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ 

| Method | Path | èª¬æ˜ |
|--------|------|------|
| GET | `/api/projects/:id/events` | SSE ã‚¤ãƒ™ãƒ³ãƒˆã‚¹ãƒˆãƒªãƒ¼ãƒ  |

---

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“

```
ai-agent-pm/
â”œâ”€â”€ Sources/                      # Swift (æ—¢å­˜)
â”‚   â”œâ”€â”€ Domain/
â”‚   â”œâ”€â”€ UseCase/
â”‚   â”œâ”€â”€ Infrastructure/
â”‚   â”œâ”€â”€ App/
â”‚   â””â”€â”€ MCPServer/
â”‚       â”œâ”€â”€ Transport/
â”‚       â”‚   â”œâ”€â”€ StdioTransport.swift
â”‚       â”‚   â”œâ”€â”€ UnixSocketTransport.swift
â”‚       â”‚   â””â”€â”€ HTTPTransport.swift      â† æ–°è¦
â”‚       â”œâ”€â”€ Routes/                       â† æ–°è¦: REST API
â”‚       â”‚   â”œâ”€â”€ AuthRoutes.swift
â”‚       â”‚   â”œâ”€â”€ ProjectRoutes.swift
â”‚       â”‚   â”œâ”€â”€ TaskRoutes.swift
â”‚       â”‚   â””â”€â”€ AgentRoutes.swift
â”‚       â”œâ”€â”€ Public/                       â† React ãƒ“ãƒ«ãƒ‰æˆæœç‰©é…ç½®å…ˆ
â”‚       â””â”€â”€ ...
â”‚
â”œâ”€â”€ web-ui/                       # React ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ (æ–°è¦)
â”‚   â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ e2e/
â”‚   â”œâ”€â”€ tests/
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ docs/
â”œâ”€â”€ Tests/
â””â”€â”€ project.yml
```

---

### web-ui/ è©³ç´°æ§‹æˆ

```
web-ui/
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ favicon.ico
â”‚   â””â”€â”€ robots.txt
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/                          # API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ client.ts                 # fetch ãƒ©ãƒƒãƒ‘ãƒ¼
â”‚   â”‚   â”œâ”€â”€ auth.ts                   # èªè¨¼ API
â”‚   â”‚   â”œâ”€â”€ projects.ts               # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ API
â”‚   â”‚   â”œâ”€â”€ tasks.ts                  # ã‚¿ã‚¹ã‚¯ API
â”‚   â”‚   â”œâ”€â”€ agents.ts                 # ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ API
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ components/                   # UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ common/                   # å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ Button/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Button.test.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ Modal/
â”‚   â”‚   â”‚   â”œâ”€â”€ Select/
â”‚   â”‚   â”‚   â”œâ”€â”€ Input/
â”‚   â”‚   â”‚   â”œâ”€â”€ Badge/
â”‚   â”‚   â”‚   â”œâ”€â”€ Card/
â”‚   â”‚   â”‚   â”œâ”€â”€ Loading/
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ layout/                   # ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ AppLayout/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AppLayout.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚   â””â”€â”€ ConnectionStatus/
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ auth/                     # èªè¨¼é–¢é€£
â”‚   â”‚   â”‚   â”œâ”€â”€ LoginForm/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LoginForm.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LoginForm.test.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚   â””â”€â”€ ProtectedRoute/
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ project/                  # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé–¢é€£
â”‚   â”‚   â”‚   â”œâ”€â”€ ProjectList/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ProjectList.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ProjectList.test.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ProjectCard/
â”‚   â”‚   â”‚   â””â”€â”€ ProjectSummary/
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ task/                     # ã‚¿ã‚¹ã‚¯é–¢é€£
â”‚   â”‚       â”œâ”€â”€ KanbanBoard/
â”‚   â”‚       â”‚   â”œâ”€â”€ KanbanBoard.tsx
â”‚   â”‚       â”‚   â”œâ”€â”€ KanbanBoard.test.tsx
â”‚   â”‚       â”‚   â””â”€â”€ index.ts
â”‚   â”‚       â”œâ”€â”€ KanbanColumn/
â”‚   â”‚       â”œâ”€â”€ TaskCard/
â”‚   â”‚       â”‚   â”œâ”€â”€ TaskCard.tsx
â”‚   â”‚       â”‚   â”œâ”€â”€ TaskCard.test.tsx
â”‚   â”‚       â”‚   â””â”€â”€ index.ts
â”‚   â”‚       â”œâ”€â”€ TaskDetail/
â”‚   â”‚       â”œâ”€â”€ TaskForm/
â”‚   â”‚       â”œâ”€â”€ TaskFilter/
â”‚   â”‚       â””â”€â”€ AssigneeSelect/
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/                        # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â”‚   â”œâ”€â”€ useAuth.test.ts
â”‚   â”‚   â”œâ”€â”€ useProjects.ts
â”‚   â”‚   â”œâ”€â”€ useTasks.ts
â”‚   â”‚   â”œâ”€â”€ useAssignableAgents.ts
â”‚   â”‚   â”œâ”€â”€ useRealtimeUpdates.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ pages/                        # ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ LoginPage/
â”‚   â”‚   â”‚   â”œâ”€â”€ LoginPage.tsx
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ ProjectListPage/
â”‚   â”‚   â”‚   â”œâ”€â”€ ProjectListPage.tsx
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ TaskBoardPage/
â”‚   â”‚   â”‚   â”œâ”€â”€ TaskBoardPage.tsx
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â””â”€â”€ NotFoundPage/
â”‚   â”‚
â”‚   â”œâ”€â”€ stores/                       # çŠ¶æ…‹ç®¡ç† (Zustand)
â”‚   â”‚   â”œâ”€â”€ authStore.ts
â”‚   â”‚   â”œâ”€â”€ connectionStore.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ types/                        # å‹å®šç¾©
â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”œâ”€â”€ project.ts
â”‚   â”‚   â”œâ”€â”€ task.ts
â”‚   â”‚   â”œâ”€â”€ agent.ts
â”‚   â”‚   â”œâ”€â”€ api.ts                    # API ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‹
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                        # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”‚   â”œâ”€â”€ date.ts                   # æ—¥ä»˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
â”‚   â”‚   â”œâ”€â”€ validation.ts             # ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”‚   â”œâ”€â”€ constants.ts              # å®šæ•°
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ styles/                       # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â”‚   â”‚   â””â”€â”€ globals.css
â”‚   â”‚
â”‚   â”œâ”€â”€ App.tsx                       # ãƒ«ãƒ¼ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ main.tsx                      # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â””â”€â”€ router.tsx                    # ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å®šç¾©
â”‚
â”œâ”€â”€ e2e/                              # E2Eãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ fixtures/
â”‚   â”‚   â”œâ”€â”€ auth.ts                   # èªè¨¼ãƒ•ã‚£ã‚¯ã‚¹ãƒãƒ£
â”‚   â”‚   â””â”€â”€ test-data.ts              # ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿
â”‚   â”œâ”€â”€ pages/                        # Page Objects
â”‚   â”‚   â”œâ”€â”€ base.page.ts
â”‚   â”‚   â”œâ”€â”€ login.page.ts
â”‚   â”‚   â”œâ”€â”€ project-list.page.ts
â”‚   â”‚   â””â”€â”€ task-board.page.ts
â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â”œâ”€â”€ auth.spec.ts
â”‚   â”‚   â”œâ”€â”€ project-list.spec.ts
â”‚   â”‚   â””â”€â”€ task-board.spec.ts
â”‚   â””â”€â”€ global-setup.ts
â”‚
â”œâ”€â”€ tests/                            # ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”œâ”€â”€ setup.ts                      # Vitest ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
â”‚   â”œâ”€â”€ test-utils.tsx                # ã‚«ã‚¹ã‚¿ãƒ ãƒ¬ãƒ³ãƒ€ãƒ¼
â”‚   â””â”€â”€ mocks/
â”‚       â”œâ”€â”€ handlers.ts               # MSW ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
â”‚       â”œâ”€â”€ server.ts                 # MSW ã‚µãƒ¼ãƒãƒ¼
â”‚       â””â”€â”€ data/                     # ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿
â”‚           â”œâ”€â”€ projects.ts
â”‚           â”œâ”€â”€ tasks.ts
â”‚           â””â”€â”€ agents.ts
â”‚
â”œâ”€â”€ .env                              # ç’°å¢ƒå¤‰æ•°ï¼ˆé–‹ç™ºç”¨ï¼‰
â”œâ”€â”€ .env.example                      # ç’°å¢ƒå¤‰æ•°ã‚µãƒ³ãƒ—ãƒ«
â”œâ”€â”€ .eslintrc.cjs                     # ESLint è¨­å®š
â”œâ”€â”€ .prettierrc                       # Prettier è¨­å®š
â”œâ”€â”€ index.html                        # HTML ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”œâ”€â”€ package.json
â”œâ”€â”€ playwright.config.ts              # Playwright è¨­å®š
â”œâ”€â”€ tailwind.config.js                # Tailwind è¨­å®š
â”œâ”€â”€ tsconfig.json                     # TypeScript è¨­å®š
â”œâ”€â”€ tsconfig.node.json
â””â”€â”€ vite.config.ts                    # Vite è¨­å®š
```

---

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆæ–¹é‡

**1ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ = 1ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰**

```
TaskCard/
â”œâ”€â”€ TaskCard.tsx          # ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ TaskCard.test.tsx     # ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ TaskCard.stories.tsx  # Storybook (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
â””â”€â”€ index.ts              # ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
```

**index.ts ã®ä¾‹:**
```typescript
export { TaskCard } from './TaskCard';
export type { TaskCardProps } from './TaskCard';
```

---

### å‹å®šç¾©ä¾‹

```typescript
// types/task.ts
export type TaskStatus =
  | 'backlog'
  | 'todo'
  | 'in_progress'
  | 'done'
  | 'blocked';

export type TaskPriority = 'low' | 'medium' | 'high' | 'urgent';

export interface Task {
  id: string;
  projectId: string;
  title: string;
  description: string;
  status: TaskStatus;
  priority: TaskPriority;
  assigneeId: string | null;
  assignee: Agent | null;
  creatorId: string;
  dependencies: string[];
  contexts: TaskContext[];
  createdAt: string;
  updatedAt: string;
}

export interface TaskContext {
  id: string;
  agentId: string;
  content: string;
  createdAt: string;
}
```

```typescript
// types/agent.ts
export type AgentType = 'ai' | 'human';
export type AgentStatus = 'active' | 'inactive' | 'busy';
export type HierarchyType = 'owner' | 'manager' | 'worker';

export interface Agent {
  id: string;
  name: string;
  role: string;
  agentType: AgentType;
  status: AgentStatus;
  hierarchyType: HierarchyType;
  parentId: string | null;
}
```

```typescript
// types/project.ts
export type ProjectStatus = 'active' | 'archived';

export interface Project {
  id: string;
  name: string;
  description: string;
  status: ProjectStatus;
  createdAt: string;
  updatedAt: string;
}

export interface ProjectSummary extends Project {
  taskCount: number;
  completedCount: number;
  inProgressCount: number;
  blockedCount: number;
  myTaskCount: number;
}
```

---

## çŠ¶æ…‹ç®¡ç†

### ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹ (Context / Zustand)

```typescript
interface AppState {
  // èªè¨¼
  auth: {
    isAuthenticated: boolean;
    agent: Agent | null;
    sessionToken: string | null;
  };

  // æ¥ç¶šçŠ¶æ…‹
  connection: {
    status: 'connected' | 'disconnected' | 'reconnecting';
    lastSync: Date | null;
  };
}
```

### ã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹ (TanStack Query)

- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§
- ã‚¿ã‚¹ã‚¯ä¸€è¦§
- å‰²ã‚Šå½“ã¦å¯èƒ½ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ

---

## ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–° (SSE)

### ã‚¤ãƒ™ãƒ³ãƒˆç¨®åˆ¥

```typescript
type TaskEvent =
  | { type: 'task_created'; task: Task }
  | { type: 'task_updated'; task: Task }
  | { type: 'task_deleted'; taskId: string }
  | { type: 'task_status_changed'; taskId: string; oldStatus: string; newStatus: string };
```

### ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´å‡¦ç†

```typescript
// useRealtimeUpdates.ts
const useRealtimeUpdates = (projectId: string) => {
  useEffect(() => {
    const eventSource = new EventSource(`/api/projects/${projectId}/events`);

    eventSource.onmessage = (event) => {
      const data = JSON.parse(event.data);
      // TanStack Query ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ›´æ–°
      queryClient.invalidateQueries(['tasks', projectId]);
    };

    return () => eventSource.close();
  }, [projectId]);
};
```

---

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| ã‚«ãƒ†ã‚´ãƒª | æŠ€è¡“ |
|----------|------|
| ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | React 18 |
| ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ« | Vite |
| ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚° | React Router v6 |
| çŠ¶æ…‹ç®¡ç† | TanStack Query + Zustand |
| ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° | Tailwind CSS |
| D&D | dnd-kit |
| HTTP ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ | fetch (native) |
| å‹å®šç¾© | TypeScript |

---

## ãƒ†ã‚¹ãƒˆæ§‹æˆ

### æ¦‚è¦

| ãƒ†ã‚¹ãƒˆç¨®åˆ¥ | ãƒ„ãƒ¼ãƒ« | å¯¾è±¡ |
|-----------|--------|------|
| ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ | Vitest + React Testing Library | ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€hooksã€ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ |
| E2Eãƒ†ã‚¹ãƒˆ | Playwright | ç”»é¢é·ç§»ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼å…¨ä½“ |

---

### ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ

**ãƒ„ãƒ¼ãƒ«:**
- **Vitest**: Vite ãƒã‚¤ãƒ†ã‚£ãƒ–ã®ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼ï¼ˆJestäº’æ›ï¼‰
- **React Testing Library**: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ
- **MSW (Mock Service Worker)**: API ãƒ¢ãƒƒã‚¯

**ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ:**
```
web-ui/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ task/
â”‚   â”‚   â”‚   â”œâ”€â”€ TaskCard.tsx
â”‚   â”‚   â”‚   â””â”€â”€ TaskCard.test.tsx    â† ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â”‚   â””â”€â”€ useAuth.test.ts
â”‚   â””â”€â”€ ...
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ setup.ts                      â† ãƒ†ã‚¹ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
â”‚   â””â”€â”€ mocks/
â”‚       â”œâ”€â”€ handlers.ts               â† MSW ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
â”‚       â””â”€â”€ server.ts
â””â”€â”€ vitest.config.ts
```

**ãƒ†ã‚¹ãƒˆä¾‹:**

```typescript
// TaskCard.test.tsx
import { render, screen } from '@testing-library/react';
import { TaskCard } from './TaskCard';

describe('TaskCard', () => {
  const task = {
    id: 'task-1',
    title: 'APIå®Ÿè£…',
    status: 'in_progress',
    priority: 'high',
    assignee: { id: 'agent-1', name: 'Worker 1' }
  };

  it('ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒˆãƒ«ã‚’è¡¨ç¤ºã™ã‚‹', () => {
    render(<TaskCard task={task} />);
    expect(screen.getByText('APIå®Ÿè£…')).toBeInTheDocument();
  });

  it('å„ªå…ˆåº¦ã«å¿œã˜ãŸãƒãƒƒã‚¸ã‚’è¡¨ç¤ºã™ã‚‹', () => {
    render(<TaskCard task={task} />);
    expect(screen.getByTestId('priority-badge')).toHaveClass('bg-orange-500');
  });

  it('æ‹…å½“ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆåã‚’è¡¨ç¤ºã™ã‚‹', () => {
    render(<TaskCard task={task} />);
    expect(screen.getByText('Worker 1')).toBeInTheDocument();
  });
});
```

```typescript
// useAuth.test.ts
import { renderHook, act } from '@testing-library/react';
import { useAuth } from './useAuth';

describe('useAuth', () => {
  it('ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸæ™‚ã«ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ä¿å­˜ã™ã‚‹', async () => {
    const { result } = renderHook(() => useAuth());

    await act(async () => {
      await result.current.login('agent-1', 'passkey');
    });

    expect(result.current.isAuthenticated).toBe(true);
    expect(result.current.agent?.id).toBe('agent-1');
  });

  it('ãƒ­ã‚°ã‚¤ãƒ³å¤±æ•—æ™‚ã«ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™', async () => {
    const { result } = renderHook(() => useAuth());

    await act(async () => {
      await result.current.login('invalid', 'wrong');
    });

    expect(result.current.isAuthenticated).toBe(false);
    expect(result.current.error).toBe('èªè¨¼ã«å¤±æ•—ã—ã¾ã—ãŸ');
  });
});
```

**ã‚«ãƒãƒ¬ãƒƒã‚¸å¯¾è±¡:**

| å¯¾è±¡ | ãƒ†ã‚¹ãƒˆå†…å®¹ |
|------|-----------|
| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã€ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†ã€æ¡ä»¶åˆ†å² |
| hooks | çŠ¶æ…‹å¤‰æ›´ã€APIå‘¼ã³å‡ºã—ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° |
| ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ | å¤‰æ›é–¢æ•°ã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ |

---

### E2Eãƒ†ã‚¹ãƒˆ

**ãƒ„ãƒ¼ãƒ«:**
- **Playwright**: ã‚¯ãƒ­ã‚¹ãƒ–ãƒ©ã‚¦ã‚¶E2Eãƒ†ã‚¹ãƒˆ

**ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ:**
```
web-ui/
â”œâ”€â”€ e2e/
â”‚   â”œâ”€â”€ fixtures/
â”‚   â”‚   â””â”€â”€ auth.ts                   â† èªè¨¼ãƒ•ã‚£ã‚¯ã‚¹ãƒãƒ£
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ login.page.ts             â† Page Object
â”‚   â”‚   â”œâ”€â”€ project-list.page.ts
â”‚   â”‚   â””â”€â”€ task-board.page.ts
â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â”œâ”€â”€ auth.spec.ts
â”‚   â”‚   â”œâ”€â”€ project-list.spec.ts
â”‚   â”‚   â””â”€â”€ task-board.spec.ts
â”‚   â””â”€â”€ global-setup.ts
â””â”€â”€ playwright.config.ts
```

**ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª:**

```typescript
// e2e/tests/auth.spec.ts
import { test, expect } from '@playwright/test';
import { LoginPage } from '../pages/login.page';

test.describe('èªè¨¼', () => {
  test('æ­£ã—ã„èªè¨¼æƒ…å ±ã§ãƒ­ã‚°ã‚¤ãƒ³ã§ãã‚‹', async ({ page }) => {
    const loginPage = new LoginPage(page);
    await loginPage.goto();
    await loginPage.login('manager-1', 'test-passkey');

    await expect(page).toHaveURL('/projects');
    await expect(page.getByText('å‚åŠ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ')).toBeVisible();
  });

  test('ä¸æ­£ãªèªè¨¼æƒ…å ±ã§ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹', async ({ page }) => {
    const loginPage = new LoginPage(page);
    await loginPage.goto();
    await loginPage.login('invalid', 'wrong');

    await expect(page.getByText('èªè¨¼ã«å¤±æ•—ã—ã¾ã—ãŸ')).toBeVisible();
    await expect(page).toHaveURL('/login');
  });

  test('ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã™ã‚‹ã¨ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã«æˆ»ã‚‹', async ({ page }) => {
    // äº‹å‰ã«ãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ã«ã™ã‚‹
    await page.goto('/projects');
    await page.getByRole('button', { name: 'ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ' }).click();

    await expect(page).toHaveURL('/login');
  });
});
```

```typescript
// e2e/tests/task-board.spec.ts
import { test, expect } from '@playwright/test';
import { TaskBoardPage } from '../pages/task-board.page';

test.describe('ã‚¿ã‚¹ã‚¯ãƒœãƒ¼ãƒ‰', () => {
  test.beforeEach(async ({ page }) => {
    // èªè¨¼æ¸ˆã¿çŠ¶æ…‹ã§ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
    await page.goto('/projects/project-1');
  });

  test('ã‚¿ã‚¹ã‚¯ã‚’ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã§ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´ã§ãã‚‹', async ({ page }) => {
    const board = new TaskBoardPage(page);

    // Todoã‚«ãƒ©ãƒ ã‹ã‚‰Progressã‚«ãƒ©ãƒ ã¸ãƒ‰ãƒ©ãƒƒã‚°
    await board.dragTask('task-1', 'Todo', 'Progress');

    // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒå¤‰æ›´ã•ã‚ŒãŸã“ã¨ã‚’ç¢ºèª
    await expect(board.getColumn('Progress').getByText('APIå®Ÿè£…')).toBeVisible();
    await expect(board.getColumn('Todo').getByText('APIå®Ÿè£…')).not.toBeVisible();
  });

  test('ã‚¿ã‚¹ã‚¯ã‚’æ–°è¦ä½œæˆã§ãã‚‹', async ({ page }) => {
    const board = new TaskBoardPage(page);

    await board.openCreateTaskModal();
    await board.fillTaskForm({
      title: 'æ–°ã—ã„ã‚¿ã‚¹ã‚¯',
      description: 'ã‚¿ã‚¹ã‚¯ã®èª¬æ˜',
      priority: 'high',
      assignee: 'Worker 1'
    });
    await board.submitTaskForm();

    await expect(page.getByText('æ–°ã—ã„ã‚¿ã‚¹ã‚¯')).toBeVisible();
  });

  test('å‰²ã‚Šå½“ã¦å¯èƒ½ãªã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯è‡ªèº«ã¨ä¸‹ä½ã®ã¿è¡¨ç¤ºã•ã‚Œã‚‹', async ({ page }) => {
    const board = new TaskBoardPage(page);
    await board.openCreateTaskModal();

    const assigneeSelect = page.getByLabel('æ‹…å½“ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ');
    await assigneeSelect.click();

    // è‡ªèº«ã¨ä¸‹ä½ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹
    await expect(page.getByRole('option', { name: 'Manager A (è‡ªåˆ†)' })).toBeVisible();
    await expect(page.getByRole('option', { name: 'Worker 1' })).toBeVisible();
    await expect(page.getByRole('option', { name: 'Worker 2' })).toBeVisible();

    // å…„å¼Ÿã‚„ä»–ã®ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã¯è¡¨ç¤ºã•ã‚Œãªã„
    await expect(page.getByRole('option', { name: 'Manager B' })).not.toBeVisible();
  });

  test('ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å¤‰æ›´ãŒåæ˜ ã•ã‚Œã‚‹', async ({ page, context }) => {
    // 2ã¤ç›®ã®ãƒšãƒ¼ã‚¸ã‚’é–‹ãï¼ˆåˆ¥ã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ³å®šï¼‰
    const page2 = await context.newPage();
    await page2.goto('/projects/project-1');

    // page2ã§ã‚¿ã‚¹ã‚¯ã‚’æ›´æ–°
    await page2.getByText('APIå®Ÿè£…').click();
    await page2.getByLabel('ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹').selectOption('done');
    await page2.getByRole('button', { name: 'ä¿å­˜' }).click();

    // page1ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åæ˜ ã‚’ç¢ºèª
    await expect(page.locator('[data-column="Done"]').getByText('APIå®Ÿè£…')).toBeVisible();
  });
});
```

**Page Object:**

```typescript
// e2e/pages/task-board.page.ts
import { Page, Locator } from '@playwright/test';

export class TaskBoardPage {
  readonly page: Page;

  constructor(page: Page) {
    this.page = page;
  }

  getColumn(status: string): Locator {
    return this.page.locator(`[data-column="${status}"]`);
  }

  async dragTask(taskId: string, from: string, to: string) {
    const task = this.page.locator(`[data-task-id="${taskId}"]`);
    const targetColumn = this.getColumn(to);
    await task.dragTo(targetColumn);
  }

  async openCreateTaskModal() {
    await this.page.getByRole('button', { name: 'ã‚¿ã‚¹ã‚¯ä½œæˆ' }).click();
  }

  async fillTaskForm(data: {
    title: string;
    description?: string;
    priority?: string;
    assignee?: string;
  }) {
    await this.page.getByLabel('ã‚¿ã‚¤ãƒˆãƒ«').fill(data.title);
    if (data.description) {
      await this.page.getByLabel('èª¬æ˜').fill(data.description);
    }
    if (data.priority) {
      await this.page.getByLabel('å„ªå…ˆåº¦').selectOption(data.priority);
    }
    if (data.assignee) {
      await this.page.getByLabel('æ‹…å½“ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ').selectOption(data.assignee);
    }
  }

  async submitTaskForm() {
    await this.page.getByRole('button', { name: 'ä½œæˆ' }).click();
  }
}
```

---

### ãƒ†ã‚¹ãƒˆç’°å¢ƒ

**ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ:**
- MSWã§APIã‚’ãƒ¢ãƒƒã‚¯
- ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªçŠ¶æ…‹

**E2Eãƒ†ã‚¹ãƒˆ:**
- ãƒ†ã‚¹ãƒˆç”¨Vaporã‚µãƒ¼ãƒãƒ¼èµ·å‹•
- ãƒ†ã‚¹ãƒˆç”¨SQLiteãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆã‚·ãƒ¼ãƒ‰æ¸ˆã¿ï¼‰

```typescript
// playwright.config.ts
import { defineConfig } from '@playwright/test';

export default defineConfig({
  testDir: './e2e/tests',
  webServer: {
    command: 'npm run dev',
    port: 5173,
    reuseExistingServer: !process.env.CI,
  },
  use: {
    baseURL: 'http://localhost:5173',
  },
  projects: [
    { name: 'chromium', use: { browserName: 'chromium' } },
    { name: 'firefox', use: { browserName: 'firefox' } },
    { name: 'webkit', use: { browserName: 'webkit' } },
  ],
});
```

---

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

**ã‚³ãƒãƒ³ãƒ‰:**
```bash
# ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
npm run test              # å®Ÿè¡Œ
npm run test:watch        # ã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰
npm run test:coverage     # ã‚«ãƒãƒ¬ãƒƒã‚¸

# E2Eãƒ†ã‚¹ãƒˆ
npm run e2e               # ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹å®Ÿè¡Œ
npm run e2e:ui            # UIãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰
npm run e2e:headed        # ãƒ–ãƒ©ã‚¦ã‚¶è¡¨ç¤º
```

**CIè¨­å®š (GitHub Actions):**
```yaml
# .github/workflows/web-ui-test.yml
name: Web UI Tests

on:
  push:
    paths:
      - 'web-ui/**'
  pull_request:
    paths:
      - 'web-ui/**'

jobs:
  unit-test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: '20'
      - run: cd web-ui && npm ci
      - run: cd web-ui && npm run test:coverage

  e2e-test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: '20'
      - run: cd web-ui && npm ci
      - run: cd web-ui && npx playwright install --with-deps
      - run: cd web-ui && npm run e2e
      - uses: actions/upload-artifact@v4
        if: failure()
        with:
          name: playwright-report
          path: web-ui/playwright-report/
```

---

### ãƒ†ã‚¹ãƒˆæ–¹é‡ã¾ã¨ã‚

| é …ç›® | ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ | E2Eãƒ†ã‚¹ãƒˆ |
|------|--------------|-----------|
| ãƒ„ãƒ¼ãƒ« | Vitest + RTL + MSW | Playwright |
| å¯¾è±¡ | ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€hooks | ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼å…¨ä½“ |
| å®Ÿè¡Œé€Ÿåº¦ | é€Ÿã„ | é…ã„ |
| API | ãƒ¢ãƒƒã‚¯ | å®Ÿã‚µãƒ¼ãƒãƒ¼ or ãƒ†ã‚¹ãƒˆã‚µãƒ¼ãƒãƒ¼ |
| CI | å¸¸æ™‚å®Ÿè¡Œ | PRæ™‚ / ãƒ‡ãƒ—ãƒ­ã‚¤å‰ |
| ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™ | 80%ä»¥ä¸Š | ä¸»è¦ãƒ•ãƒ­ãƒ¼100% |

---

## é–‹ç™ºæ–¹é‡

### TDD (ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™º)

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ **TDD (Test-Driven Development)** ã§é€²ã‚ã¾ã™ã€‚

**åŸºæœ¬ã‚µã‚¤ã‚¯ãƒ«:**
```
RED â†’ GREEN â†’ REFACTOR
```

1. **RED**: å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’å…ˆã«æ›¸ã
2. **GREEN**: ãƒ†ã‚¹ãƒˆã‚’é€šã™æœ€å°é™ã®ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè£…
3. **REFACTOR**: ã‚³ãƒ¼ãƒ‰ã‚’æ•´ç†ï¼ˆãƒ†ã‚¹ãƒˆã¯é€šã£ãŸã¾ã¾ï¼‰

**é©ç”¨ç¯„å›²:**

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | ãƒ†ã‚¹ãƒˆç¨®åˆ¥ | TDDé©ç”¨ |
|---------|-----------|---------|
| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ (Vitest + RTL) | âœ… |
| hooks | ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ (Vitest) | âœ… |
| API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ | ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ (Vitest + MSW) | âœ… |
| ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼ | E2Eãƒ†ã‚¹ãƒˆ (Playwright) | âœ… |
| REST API (Vapor) | çµ±åˆãƒ†ã‚¹ãƒˆ | âœ… |

**å®Ÿè£…é †åº:**

å„æ©Ÿèƒ½ã«ã¤ã„ã¦ä»¥ä¸‹ã®é †åºã§é€²ã‚ã‚‹:

1. **E2Eãƒ†ã‚¹ãƒˆ (RED)**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼ã®ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
2. **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ (RED)**: å¿…è¦ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
3. **å®Ÿè£… (GREEN)**: ãƒ†ã‚¹ãƒˆãŒé€šã‚‹ã‚ˆã†ã«ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè£…
4. **ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°**: ã‚³ãƒ¼ãƒ‰å“è³ªã‚’æ”¹å–„

**ä¾‹: ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½**
```
1. e2e/tests/auth.spec.ts ã‚’æ›¸ã (RED)
2. LoginForm.test.tsx ã‚’æ›¸ã (RED)
3. useAuth.test.ts ã‚’æ›¸ã (RED)
4. LoginForm.tsx ã‚’å®Ÿè£… (GREEN)
5. useAuth.ts ã‚’å®Ÿè£… (GREEN)
6. ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
7. E2Eãƒ†ã‚¹ãƒˆãŒé€šã‚‹ã“ã¨ã‚’ç¢ºèª
```

---

## æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

1. [ ] React ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ– (`web-ui/`)
2. [ ] ãƒ†ã‚¹ãƒˆç’°å¢ƒæ§‹ç¯‰ (Vitest, Playwright, MSW)
3. [ ] èªè¨¼æ©Ÿèƒ½ï¼ˆTDD: E2E â†’ ãƒ¦ãƒ‹ãƒƒãƒˆ â†’ å®Ÿè£…ï¼‰
4. [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ç”»é¢ï¼ˆTDDï¼‰
5. [ ] ã‚¿ã‚¹ã‚¯ãƒœãƒ¼ãƒ‰ç”»é¢ï¼ˆTDDï¼‰
6. [ ] ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–° (SSE)ï¼ˆTDDï¼‰
7. [ ] Vapor REST API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…ï¼ˆTDDï¼‰
