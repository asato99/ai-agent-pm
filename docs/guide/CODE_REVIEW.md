# コードレビューガイドライン

本ドキュメントはコードレビュー時のチェックリストと違反対応を定義する。

---

## レビューチェックリスト

### アーキテクチャ
- [ ] 依存関係ルールが守られているか（外→内のみ）
- [ ] Domain層がフレームワークに依存していないか
- [ ] UseCase層がUIに依存していないか
- [ ] Protocolを通じた依存性逆転が適用されているか

### TDD
- [ ] テストが先に書かれたか
- [ ] Given-When-Then構造になっているか
- [ ] テストが独立して実行可能か
- [ ] Mockが適切に使用されているか
- [ ] エッジケースがテストされているか

### 命名・構造
- [ ] 命名規則に従っているか
- [ ] ファイルが適切なディレクトリにあるか
- [ ] 単一責任原則が守られているか

---

## 違反時の対応

### 許容されない違反

```
🚨 以下は即座に修正が必要:

1. Domain層からInfrastructure層への依存
2. テストなしでのプロダクションコード追加
3. 具象クラスへの直接依存（DI未使用）
```

### リファクタリング優先度

| 優先度 | 種類 | 対応期限 |
|--------|------|----------|
| P0 | 依存関係ルール違反 | 即座 |
| P1 | テストカバレッジ不足 | 同一PR内 |
| P2 | 命名規則違反 | 次回リリースまで |
| P3 | コード重複 | バックログ管理 |

---

## 変更履歴

| 日付 | バージョン | 変更内容 |
|------|-----------|----------|
| 2024-12-30 | 1.0.0 | ARCHITECTURE.mdから分離して初版作成 |
